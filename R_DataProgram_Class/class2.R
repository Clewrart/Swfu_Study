### **第2课：Variables and Data Types**

**教学内容：** 

**课程标题：** 变量和数据类型入门

**课程目标：** 学习如何定义变量、了解各种数据类型，并掌握如何命名、赋值和进行数据类型转换。

**课程内容：**
  
  **1. 变量和数据类型的定义：**
  
  - **什么是变量？**
  - 变量是用于存储和表示数据的容器。它们允许我们在程序中存储、访问和操作数据。

  - **数据类型的定义：**
  - 数据类型是变量的属性，指定了变量可以存储的数据种类和操作方式。

  - **常见数据类型：**
  - 整数（Integer）：存储整数值，如1、-5、100。
  - 浮点数（Double/Float）：存储小数值，如3.14、-0.5、2.0。
  - 字符串（String）：存储文本信息，如"Hello, World!"。
  - 逻辑值（Boolean）：存储True或False，用于逻辑判断。

**2. 变量命名规则：**
  
  - **如何命名变量：**
  - 变量名必须以字母或下划线（\_）开头，后续可以包含字母、数字和下划线。
  - 变量名区分大小写，即"myVar"和"myvar"是不同的变量名。
  - 避免使用保留字（如if、else、function）作为变量名。

**3. 变量赋值：**
  
  - **使用 `<-` 或 `=` 运算符给变量赋值：**
  - 示例1：`x <- 5`，这将把值5赋给变量x。
  - 示例2：`name = "Alice"`，这将把字符串"Alice"赋给变量name。

  - **如何检查变量的内容：**
  - 使用 `print()` 函数或直接输入变量名可以查看变量的值。
  - 示例：`print(x)` 或 `y`（直接输入变量名y）。

**4. 数据类型转换：**
  
  - **如何将数据类型转换：**
  - 使用函数将数据从一种类型转换为另一种类型。
  - 示例1：将整数转换为浮点数：`as.double(5)`。
  - 示例2：将字符串转换为整数：`as.integer("10")`。

**课程练习：**
  
  - 练习命名变量，赋值不同数据类型的值，并尝试进行数据类型转换。


**示例题：**
  
  - 创建一个名为 "age" 的变量，将你的年龄赋值给它，然后使用 `class()` 函数检查它的数据类型。

**练习题：**
  
1. 创建一个名为 "temperature" 的变量，将一个浮点数值（如26.5）赋值给它，然后将它转换为整数数据类型。

2. 创建一个名为 "name" 的变量，将你的名字赋值给它，然后使用 `nchar()` 函数计算你名字的字符数。

3. 创建一个名为 "pi_value" 的变量，将π的近似值（3.14159）赋值给它，然后将它转换为字符数据类型。

4. 创建一个整数变量x，赋值为10。然后创建一个浮点数变量y，赋值为3.14。

5. 创建一个字符变量name，赋值为"John"。然后创建一个逻辑变量is_student，赋值为TRUE。

6. 创建一个整数向量a，包含1、2、3、4、5。计算它的平均值。

7. 创建一个浮点数向量b，包含3.5、2.7、1.8、4.2。计算它的总和。


**逻辑运算：**
  
8. 创建一个逻辑向量，包含值TRUE、FALSE、TRUE、TRUE、FALSE。

9. 创建一个逻辑向量，包含5个TRUE。

10. 使用逻辑运算符(&、|、!)将两个逻辑向量进行组合。

11. 创建一个数字向量，包含值1、2、3、4、5。

12. 使用逻辑向量从数字向量中选择对应位置为TRUE的元素。

13. 创建一个字符向量，包含"apple"、"banana"、"cherry"、"date"。

14. 使用逻辑向量从字符向量中选择对应位置为TRUE的元素。

15. 使用逻辑运算符(&、|、!)创建一个复杂的逻辑表达式，例如，(TRUE & FALSE) | (TRUE & TRUE)。

16. 创建一个逻辑向量，包含5个FALSE。

17. 使用逻辑向量从一个数值向量中选择对应位置为FALSE的元素。


**第2课：Variables and Data Types (Advanced)**
  
**课程标题：** 复杂数据类型、数据类型转换和向量化操作

**课程目标：** 学习如何使用R处理更复杂的数据类型，进行数据类型转换，并利用向量化操作提高数据处理效率。

**课程内容：**
  
  **1. 复杂数据类型：**
  
  - **列表（List）：**
  - 介绍列表作为一种复杂数据类型，允许存储不同类型的数据元素。
  - 如何创建列表，包括使用`list()`函数和`c()`函数。
  - 访问和操作列表中的元素，使用索引和名称。

  - **数据框架（DataFrame）：**
  - 介绍数据框架作为表格形式的数据结构，常用于数据分析。
  - 如何创建数据框架，包括使用`data.frame()`函数。
  - 访问和操作数据框架中的行和列，使用行列索引和名称。

**2. 数据类型转换：**
  
  - **列表到数据框架的转换：**
  - 如何将列表转换为数据框架，使数据更适合分析。
  - 使用`as.data.frame()`函数进行转换。

  - **数据类型的兼容性和转换：**
  - 讨论不同数据类型之间的兼容性，例如字符型、数值型、逻辑型。
  - 如何进行数据类型转换，确保数据匹配和正确操作。

**3. 向量化操作：**
  
  - **什么是向量化操作：**
  - 解释向量化操作的概念，它允许在整个向量或数据框架上执行相同的操作，提高效率。

  - **向量化操作的应用：**
  - 示范如何使用R的向量化操作来执行元素级操作，如加法、乘法、逻辑比较等。
  - 强调向量化操作的效率和代码简洁性。


**高级示例题：**
  - 创建一个数据框架，包含姓名、年龄、成绩和课程的信息。然后，使用数据框架的功能，筛选出年龄大于等于25岁且成绩在90分以上的学生。

**高级练习题：**
  
1. 创建一个列表，其中包含多个不同数据类型的元素，例如整数、字符、逻辑值和浮点数。然后，编写一个函数，检查列表中是否包含字符类型的元素，并返回结果。

2. 创建一个数据框架，包含学生的姓名、年龄、成绩和课程信息。然后，编写一个函数，接受一个学生姓名作为参数，查找该学生的年龄和成绩，并返回一个包含这些信息的列表。

3. 创建两个数值向量，长度不一致，然后编写一个函数，将这两个向量相加。要处理长度不一致的情况，并在较短的向量部分补充缺失值为零。


**复杂数据类型及其转换：**
  
4. 创建一个列表my_list，包含整数、字符和逻辑值。

5. 将my_list转换为数据框架my_df，并设置列名为"Age"、"Name"、"IsStudent"。

```R
my_df <- as.data.frame(my_list)
colnames(my_df) <- c("Age", "Name", "IsStudent")
```

6. 创建一个数据框架students，包含姓名、年龄和成绩列。

```R
students <- data.frame(
  Name = c("Alice", "Bob", "Charlie"),
  Age = c(25, 22, 23),
  Score = c(95, 88, 75)
)
```

7. 将students的成绩列Score转换为整数类型。

```R
students$Score <- as.integer(students$Score)
```

**向量化操作：**
  
8. 创建一个整数向量vec1，包含1到10的奇数。

```R
vec1 <- seq(1, 10, by = 2)
```

9. 创建一个浮点数向量vec2，包含0.5到5.5的数。

```R
vec2 <- seq(0.5, 5.5, by = 1)
```

10. 将vec1和vec2相加，得到一个新的向量result。

```R
result <- vec1 + vec2
```

11. 创建一个逻辑向量logic_vec，包含TRUE、FALSE、TRUE、TRUE、FALSE。然后对它取反。

```R
logic_vec <- c(TRUE, FALSE, TRUE, TRUE, FALSE)
not_logic_vec <- !logic_vec
```
